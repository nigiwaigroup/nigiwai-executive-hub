# ЁЯФз р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ "authManager is not defined"

## тЭМ р╕кр╕▓р╣Ар╕лр╕Хр╕╕р╕Вр╕нр╕Зр╕Ыр╕▒р╕Нр╕лр╕▓

р╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф `Uncaught ReferenceError: authManager is not defined` р╣Ар╕Бр╕┤р╕Фр╕Ир╕▓р╕Б:

1. **JavaScript р╣Др╕бр╣Ир╣Вр╕лр╕ер╕Фр╕Хр╕▓р╕бр╕ер╕│р╕Фр╕▒р╕Ъ** - р╣Др╕Яр╕ер╣М `auth.js` р╕нр╕▓р╕Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Вр╕лр╕ер╕Фр╣Ар╕кр╕гр╣Зр╕И р╣Бр╕Хр╣Ир╣Вр╕Др╣Йр╕Фр╕Юр╕вр╕▓р╕вр╕▓р╕бр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й `authManager` р╣Бр╕ер╣Йр╕з
2. **р╣Др╕бр╣Ир╕бр╕╡ Event Listener** - р╣Вр╕Др╣Йр╕Фр╕гр╕▒р╕Щр╕Чр╕▒р╕Щр╕Чр╕╡р╣Вр╕Фр╕вр╣Др╕бр╣Ир╕гр╕нр╣Гр╕лр╣Й DOM р╣Вр╕лр╕ер╕Фр╣Ар╕кр╕гр╣Зр╕И
3. **Script Execution Timing** - Browser р╕Юр╕вр╕▓р╕вр╕▓р╕бр╕гр╕▒р╕Щ inline script р╕Бр╣Ир╕нр╕Щр╕Чр╕╡р╣И external script р╕Ир╕░р╣Вр╕лр╕ер╕Фр╣Ар╕кр╕гр╣Зр╕И

## тЬЕ р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕Вр╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕Чр╕│р╣Др╕Ыр╣Бр╕ер╣Йр╕з

### 1. р╕лр╣Ир╕нр╣Вр╕Др╣Йр╕Фр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щ DOMContentLoaded

**р╣Ар╕Фр╕┤р╕б (р╕Ьр╕┤р╕Ф):**
```javascript
<script src="assets/js/auth.js"></script>
<script>
    authManager.loadConfig().then(() => {  // тЭМ authManager р╕нр╕▓р╕Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Юр╕гр╣Йр╕нр╕б
        authManager.redirectIfAuthenticated();
    });
</script>
```

**р╣Гр╕лр╕бр╣И (р╕Цр╕╣р╕Б):**
```javascript
<script src="assets/js/auth.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', async () => {
        // р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ authManager р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
        if (typeof authManager === 'undefined') {
            console.error('authManager not loaded');
            return;
        }

        await authManager.loadConfig();
        authManager.redirectIfAuthenticated();
    });
</script>
```

### 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Objects р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╣Ир╕нр╕Щр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:
```javascript
if (typeof authManager === 'undefined') {
    console.error('authManager not loaded');
    return;
}
```

### 3. р╕гр╕зр╕б Event Listeners р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

р╕вр╣Йр╕▓р╕в Event Listeners р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╣Гр╕Щ `DOMContentLoaded` р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╣Бр╕Щр╣Ир╣Гр╕Ир╕зр╣Ир╕▓:
- DOM Elements р╣Вр╕лр╕ер╕Фр╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з
- JavaScript Dependencies р╣Вр╕лр╕ер╕Фр╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з

## ЁЯУЭ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з

### 1. index.html
- тЬЕ р╕лр╣Ир╕нр╣Вр╕Др╣Йр╕Фр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щ `DOMContentLoaded`
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ `authManager` р╕Бр╣Ир╕нр╕Щр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- тЬЕ р╕вр╣Йр╕▓р╕в Event Listeners р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╣Гр╕Щ Event

### 2. dashboard.html
- тЬЕ р╕лр╣Ир╕нр╣Вр╕Др╣Йр╕Фр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щ `DOMContentLoaded`
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ `authManager` р╣Бр╕ер╕░ `menuManager`
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б Error Handling

## ЁЯзк р╕зр╕┤р╕Шр╕╡р╕Чр╕Фр╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Бр╕Бр╣Йр╣Др╕Вр╕кр╕│р╣Ар╕гр╣Зр╕И

1. **р╣Ар╕Ыр╕┤р╕Ф Browser Console (F12)**
2. **Reload р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ (Ctrl+R)**
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console:**
   - тЬЕ р╣Др╕бр╣Ир╕бр╕╡ Error р╕кр╕╡р╣Бр╕Фр╕З
   - тЬЕ р╕лр╕Щр╣Йр╕▓р╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щр╣Бр╕кр╕Фр╕Зр╕Ыр╕Бр╕Хр╕┤
   - тЬЕ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Юр╕┤р╕бр╕Юр╣М PIN р╣Др╕Фр╣Й

4. **р╕Чр╕Фр╕кр╕нр╕Ъ Login:**
   - р╣Гр╕кр╣И PIN: `8787`
   - р╕Бр╕Ф Enter
   - р╕Др╕зр╕гр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣И Dashboard р╕кр╕│р╣Ар╕гр╣Зр╕И

## ЁЯФН р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б (р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓)

### р╕Ыр╕▒р╕Нр╕лр╕▓: р╕вр╕▒р╕Зр╣Ар╕лр╣Зр╕Щ Error "authManager is not defined"

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╕Чр╕╡р╣И 1: Hard Refresh**
```
Windows: Ctrl + Shift + R
Mac: Cmd + Shift + R
```

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╕Чр╕╡р╣И 2: Clear Cache**
1. р╣Ар╕Ыр╕┤р╕Ф Developer Tools (F12)
2. р╣Др╕Ыр╕Чр╕╡р╣И Network Tab
3. р╣Ар╕ер╕╖р╕нр╕Б "Disable cache"
4. Reload р╕лр╕Щр╣Йр╕▓р╣Гр╕лр╕бр╣И

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╕Чр╕╡р╣И 3: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣Мр╕Цр╕╣р╕Бр╣Вр╕лр╕ер╕Фр╕лр╕гр╕╖р╕нр╣Др╕бр╣И**
1. р╣Ар╕Ыр╕┤р╕Ф Network Tab
2. Reload р╕лр╕Щр╣Йр╕▓
3. р╕Фр╕╣р╕зр╣Ир╕▓ `auth.js` р╕Цр╕╣р╕Бр╣Вр╕лр╕ер╕Фр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Status Code р╕Др╕зр╕гр╣Ар╕Ыр╣Зр╕Щ `200 OK`

### р╕Ыр╕▒р╕Нр╕лр╕▓: р╣Др╕Яр╕ер╣Мр╣Др╕бр╣Ир╣Вр╕лр╕ер╕Ф (404 Not Found)

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ path р╕Вр╕нр╕Зр╣Др╕Яр╕ер╣Мр╣Гр╕лр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М:
```
nigiwai-executive-hub/
тФЬтФАтФА index.html
тФЬтФАтФА dashboard.html
тФФтФАтФА assets/
    тФФтФАтФА js/
        тФЬтФАтФА auth.js      тЖР р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Й
        тФФтФАтФА menu.js      тЖР р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Й
```

### р╕Ыр╕▒р╕Нр╕лр╕▓: Script р╕ер╣Ир╕▓р╕Кр╣Йр╕▓

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й: р╣Ар╕Юр╕┤р╣Ир╕б async/defer**
```html
<script src="assets/js/auth.js" defer></script>
```

р╕лр╕гр╕╖р╕н

```html
<script src="assets/js/auth.js" async></script>
```

**р╣Бр╕Хр╣Ир╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Гр╕Кр╣Йр╕зр╕┤р╕Шр╕╡р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ** (р╣Др╕бр╣Ир╣Гр╕Кр╣Й defer/async р╣Бр╕Хр╣Ир╣Гр╕Кр╣Й DOMContentLoaded р╣Бр╕Чр╕Щ)

## ЁЯУК р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В

| р╣Др╕Яр╕ер╣М | р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З | р╕кр╕Цр╕▓р╕Щр╕░ |
|------|----------------|-------|
| index.html | р╕лр╣Ир╕нр╣Вр╕Др╣Йр╕Фр╣Гр╕Щ DOMContentLoaded | тЬЕ р╣Бр╕Бр╣Йр╣Бр╕ер╣Йр╕з |
| dashboard.html | р╕лр╣Ир╕нр╣Вр╕Др╣Йр╕Фр╣Гр╕Щ DOMContentLoaded | тЬЕ р╣Бр╕Бр╣Йр╣Бр╕ер╣Йр╕з |
| auth.js | р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З | тЬЕ р╕Ыр╕Бр╕Хр╕┤ |
| menu.js | р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З | тЬЕ р╕Ыр╕Бр╕Хр╕┤ |

## ЁЯОп Best Practices р╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╣Гр╕Кр╣Й

1. тЬЕ **Always use DOMContentLoaded** - р╕гр╕нр╣Гр╕лр╣Й DOM р╣Бр╕ер╕░ Scripts р╣Вр╕лр╕ер╕Фр╣Ар╕кр╕гр╣Зр╕И
2. тЬЕ **Check undefined** - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Objects р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
3. тЬЕ **Error Handling** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г Error р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б
4. тЬЕ **Console Logging** - р╣Гр╕Кр╣Й console.error р╣Ар╕Юр╕╖р╣Ир╕н Debug

## ЁЯТб р╣Ар╕Др╕ер╣Зр╕Фр╕ер╕▒р╕Ър╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б

### р╕Чр╕Фр╕кр╕нр╕Ър╕зр╣Ир╕▓ authManager р╣Вр╕лр╕ер╕Фр╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╕вр╕▒р╕З

р╣Ар╕Ыр╕┤р╕Ф Console р╣Бр╕ер╣Йр╕зр╕Юр╕┤р╕бр╕Юр╣М:
```javascript
console.log(typeof authManager);
```

р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:
- `"object"` = тЬЕ р╣Вр╕лр╕ер╕Фр╕кр╕│р╣Ар╕гр╣Зр╕И
- `"undefined"` = тЭМ р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Вр╕лр╕ер╕Ф

### Debug Mode

р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щр╣Др╕Яр╕ер╣М auth.js:
```javascript
console.log('authManager loaded successfully');
```

р╕Ир╕░р╣Ар╕лр╣Зр╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕Щ Console р╣Ар╕бр╕╖р╣Ир╕нр╣Вр╕лр╕ер╕Фр╣Ар╕кр╕гр╣Зр╕И

---

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕**: р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М `nigiwai-executive-hub` р╣Ар╕Ыр╣Зр╕Щр╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Щр╕╡р╣Йр╣Бр╕ер╣Йр╕з р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Чр╕▒р╕Щр╕Чр╕╡!

**Last Updated**: February 6, 2026  
**Status**: тЬЕ Fixed
